% load packages
\usepackage{geometry}
\usepackage{xcolor}
\usepackage{eso-pic}
\usepackage{fancyhdr}
\usepackage{sectsty}
\usepackage{fontspec}
\usepackage{titlesec}
\usepackage{fontawesome5}
\usepackage{hyperref}
\usepackage{enumitem}

%% Set page size with margin
\geometry{a4paper, total={170mm,257mm}, left=10mm, top=10mm, bottom=10mm, right=30mm}

%% Let's define some colours
\definecolor{light}{HTML}{dbdbd9}
\definecolor{highlight}{HTML}{070808}
\definecolor{dark}{HTML}{565955}

%% Let's add the border on the right hand side 
\AddToShipoutPicture{% 
    \AtPageLowerLeft{% 
        \put(\LenToUnit{\dimexpr\paperwidth-2cm},0){% 
            \color{light}\rule{2cm}{\LenToUnit\paperheight}%
          }%
     }%
     % logo
    % \AtPageLowerLeft{% start the bar at the bottom right of the page
    %     \put(\LenToUnit{\dimexpr\paperwidth-2.25cm},27.2cm){% move it to the top right
    %         \color{light}\includegraphics[width=1.5cm]{_extensions/nrennie/PrettyPDF/logo.png}
    %       }%
    %  }%
}

%% Style the page number
\fancypagestyle{mystyle}{
  \fancyhf{}
  \renewcommand\headrulewidth{0pt}
  \fancyfoot[R]{\thepage}
  \fancyfootoffset{3.5cm}
}
\setlength{\footskip}{20pt}

%% style the chapter/section fonts
\chapterfont{\color{dark}\fontsize{20}{16.8}\selectfont}
\sectionfont{\color{dark}\fontsize{20}{16.8}\selectfont}
\subsectionfont{\color{dark}\fontsize{14}{16.8}\selectfont}
\titleformat{\subsection}
  {\sffamily\Large\bfseries}{\thesection}{1em}{}[{\titlerule[0.8pt]}]

% left align title
\makeatletter
\renewcommand{\maketitle}{\bgroup\setlength{\parindent}{0pt}
\begin{flushleft}
  {{\fontsize{24}{20}\selectfont\@title}} \vspace{0.3cm}
\end{flushleft}\egroup
}
\makeatother

% reduce whitespace around subsections
\titlespacing*{\subsection}{0pt}{0.5\baselineskip}{0.5\baselineskip}

% reduce space around bulleted lists
\setlist[itemize]{topsep=0pt, itemsep=0pt}

% social media functions
\makeatletter
\newcommand{\github}[1]{%
   \href{https://github.com/#1}{\faGithub \ #1}%
}
\makeatother

\makeatletter
\newcommand{\linkedin}[1]{%
   \href{https://linkedin.com/in/#1}{\faLinkedin \ #1}%
}
\makeatother

\makeatletter
\newcommand{\mastodon}[1]{%
   \href{https://#1}{\faMastodon \ #1}%
}
\makeatother

\makeatletter
\newcommand{\twitter}[1]{%
   \href{https://twitter.com/#1}{\faTwitter \ #1}%
}
\makeatother

\makeatletter
\newcommand{\phone}[1]{%
  \faMobile* \ #1%
}
\makeatother


\makeatletter
\newcommand{\location}[1]{%
  \faMapMarker* \ #1%
}
\makeatother

\makeatletter
\newcommand{\email}[1]{%
   \href{mailto:#1}{\faEnvelope \ #1}%
}
\makeatother

\makeatletter
\newcommand{\website}[1]{%
   \href{https://#1}{\faChrome \ #1}%
}
\makeatother

% Set justification
\raggedright

%% Use some custom fonts
\setsansfont{Ubuntu}[
    Path=_extensions/nrennie/PrettyPDF/Ubuntu/,
    Scale=0.9,
    Extension = .ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    ]

\setmainfont{Ubuntu}[
    Path=_extensions/nrennie/PrettyPDF/Ubuntu/,
    Scale=0.9,
    Extension = .ttf,
    UprightFont=*-Regular,
    BoldFont=*-Bold,
    ItalicFont=*-Italic,
    ]
